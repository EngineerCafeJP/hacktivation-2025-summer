# 不老不死デジタル人格アプリ 企画要件書

## 概要
ブロックチェーン上にデジタル人格のコンテキストを保存し、OpenAI APIを活用してチャットUI経由で個人と会話できるアプリケーション。「不老不死」をテーマに、永続的で改ざん不可能なデジタル人格との対話を実現する。

## 基本コンセプト
- **デジタル人格**: 個人の思考パターン、記憶、価値観、話し方などをコンテキスト情報として定義
- **永続性**: ブロックチェーンによる分散保存で改ざん不可能な永続的保存を実現
- **対話システム**: OpenAI APIを活用した自然な会話体験

## アーキテクチャ

### システム構成
```
フロントエンド（React/Next.js）→ ブロックチェーン（人格コンテキスト保存）
    ↓
OpenAI API（直接呼び出し）
    

```

### 技術スタック
- **フロントエンド**: React/Next.js
- **AI**: OpenAI API（直接呼び出し）
- **ブロックチェーン**: solidityスマートコントラクト（Ethereum）
- **ウォレット**: MetaMask連携

## 主要機能

### 1. 人格作成・管理機能
- 人格情報の作成・編集UI
- 設定項目：
  - 基本情報（名前、年齢、職業等）
  - 性格・個性
  - 話し方・口調
  - 記憶・経験
  - 価値観・信念
  - 専門知識・趣味
- ブロックチェーンへの保存機能
- 人格リストの表示・選択

### 2. チャット対話機能
- 人格選択機能
- リアルタイムチャットUI
- 対話履歴の表示
- OpenAI APIとの連携

### 3. ブロックチェーン連携機能
- MetaMaskウォレット接続
- 人格データのオンチェーン保存
- データの取得・更新
- 所有権管理

## システムワークフロー

### 人格作成フェーズ
1. ユーザーがWeb UIで人格情報を入力
2. 入力データをJSON形式で整理
3. MetaMaskを通じてブロックチェーンにデータ保存
4. トランザクション完了確認

### 対話フェーズ
1. 保存済み人格リストから選択
2. ブロックチェーンからコンテキストデータ取得
3. 取得したコンテキストをシステムプロンプトとして構成
4. ユーザーの質問と組み合わせてOpenAI APIに送信
5. AIレスポンスをチャットUIに表示
6. 対話継続

## データ構造

### 人格コンテキスト（JSON形式）
```json
{
  "id": "unique_persona_id",
  "name": "人格名",
  "basic_info": {
    "age": 30,
    "occupation": "職業",
    "background": "背景情報"
  },
  "personality": {
    "traits": ["性格特徴1", "性格特徴2"],
    "speaking_style": "話し方の特徴",
    "tone": "口調（敬語/タメ口等）"
  },
  "knowledge": {
    "expertise": ["専門分野1", "専門分野2"],
    "experiences": ["経験1", "経験2"],
    "memories": ["重要な記憶1", "重要な記憶2"]
  },
  "values": {
    "beliefs": ["信念1", "信念2"],
    "priorities": ["優先事項1", "優先事項2"]
  },
  "created_at": "作成日時",
  "updated_at": "更新日時"
}
```

## 技術的検討事項

### ブロックチェーン選択
- **Ethereum**: メインネット、高い信頼性
- ガス代とセキュリティのトレードオフを考慮

### APIキー管理
- 環境変数での管理

### データ保存方法
- オンチェーン保存

### セキュリティ考慮事項
- ウォレット接続のセキュリティ
- APIキーの適切な管理
- 人格データのプライバシー保護

## 想定ユースケース

### 利用想定
- 故人との「対話」体験
- 世代を超えた知識の伝達
  - 歴史的人物の人格再現


## 開発優先順位

### Phase 1: 基本機能
- チャットUIの実装
- OpenAI API連携
- 基本的な人格コンテキスト管理

### Phase 2: ブロックチェーン連携
- MetaMask連携
- コントラクト開発・デプロイ
- データ保存・取得機能